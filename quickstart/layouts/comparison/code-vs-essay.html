<!DOCTYPE html>
<html lang="en">
<head>
  {{ partial "head.html" . }}
</head>
<body>
  {{ partial "navbar.html" . }}

  <div class="container my-4">
    <h1>{{ .Title }}</h1>
    <p>{{ .Description }}</p>

    <!-- add Chart.js canvas -->
    {{ $chartData := index site.Data.charts .Params.chart }}
    <canvas id="peerReviewChart"
        width="400" height="200"
        data-labels='{{ $chartData.chart.labels | jsonify }}'
        data-coding='{{ $chartData.chart.coding | jsonify }}'
        data-essay='{{ $chartData.chart.essay | jsonify }}'>
    </canvas>

    <!-- Display main content -->
    <div class="content">
      {{ .Content }}
    </div>

    <!-- Disqus comment block -->
    {{ with .Site.Params.disqusShortname }}
      <div id="disqus_thread"></div>
      <script>
          (function() {
              var d = document, s = d.createElement('script');
              s.src = 'https://{{ . }}.disqus.com/embed.js';
              s.setAttribute('data-timestamp', +new Date());
              (d.head || d.body).appendChild(s);
          })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    {{ end }}
  </div>

  {{ partial "footer.html" . }}

  <!-- 引入外部 JS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/js/chart-init.js"></script>
</body>
</html>
